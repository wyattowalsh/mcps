# ====================================================================
# MCPS Environment Configuration
# ====================================================================
# Copy this file to .env and configure for your environment
# Do NOT commit .env to version control (it's in .gitignore)

# ====================================================================
# ENVIRONMENT SETTINGS
# ====================================================================
ENVIRONMENT=development
DEBUG=false

# ====================================================================
# DATABASE CONFIGURATION - PostgreSQL (Production)
# ====================================================================
# Full database URL (overrides individual settings below if set)
# Format: postgresql+asyncpg://user:password@host:port/database
DATABASE_URL=postgresql+asyncpg://mcps:mcps_password@localhost:5432/mcps

# PostgreSQL Connection Settings
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=mcps
POSTGRES_PASSWORD=mcps_password
POSTGRES_DB=mcps

# Connection Pool Settings (PostgreSQL only)
DB_POOL_SIZE=20              # Number of connections in the pool
DB_MAX_OVERFLOW=10           # Additional connections beyond pool_size
DB_POOL_RECYCLE=3600         # Recycle connections after N seconds
DB_POOL_PRE_PING=true        # Test connections before use
DB_ECHO=false                # Echo SQL queries to stdout (debug only)

# ====================================================================
# DATABASE CONFIGURATION - SQLite (Development/Testing Only)
# ====================================================================
# Set USE_SQLITE=true to use SQLite instead of PostgreSQL
USE_SQLITE=false
DATABASE_PATH=data/mcps.db

# ====================================================================
# REDIS CONFIGURATION (for caching and rate limiting)
# ====================================================================
# Full Redis URL (overrides individual settings below if set)
# Format: redis://[user:password@]host:port/database
REDIS_URL=redis://localhost:6379/0

# Redis Connection Settings
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=

# Redis Pool Settings
REDIS_POOL_SIZE=10
REDIS_SOCKET_TIMEOUT=5

# Cache Configuration
CACHE_ENABLED=true
CACHE_TTL_DEFAULT=300
CACHE_FAIL_SILENTLY=true

# ====================================================================
# PGADMIN CONFIGURATION (Optional - for database management UI)
# ====================================================================
PGADMIN_EMAIL=admin@mcps.local
PGADMIN_PASSWORD=admin

# ====================================================================
# GITHUB API CONFIGURATION
# ====================================================================
# Get token from: https://github.com/settings/tokens
# Requires: repo, read:packages, read:org scopes
GITHUB_TOKEN=ghp_your_token_here

# GitHub API rate limit (requests per hour)
GITHUB_RATE_LIMIT=5000

# ====================================================================
# OPENAI API CONFIGURATION (for semantic analysis)
# ====================================================================
# Get API key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk_test_your_key_here
OPENAI_MODEL=gpt-4-turbo
OPENAI_EMBEDDING_MODEL=text-embedding-3-small
OPENAI_MAX_RETRIES=3

# ====================================================================
# SOCIAL MEDIA API CONFIGURATION
# ====================================================================

# -------------------- Reddit API --------------------
# Get credentials from: https://www.reddit.com/prefs/apps
# Create a "script" type application
REDDIT_CLIENT_ID=your_client_id_here
REDDIT_CLIENT_SECRET=your_client_secret_here
REDDIT_USER_AGENT=MCPS:v3.0.0 (by /u/your_username)
REDDIT_USERNAME=your_reddit_username
REDDIT_PASSWORD=your_reddit_password

# Subreddits to monitor (comma-separated)
REDDIT_SUBREDDITS=LocalLLaMA,ChatGPT,OpenAI,artificial,MachineLearning,programming,Python,javascript,typescript,opensource

# Search keywords (comma-separated)
REDDIT_KEYWORDS=Model Context Protocol,MCP server,MCP tool,modelcontextprotocol,@modelcontextprotocol

# Minimum score to store posts
REDDIT_MIN_SCORE_THRESHOLD=5

# -------------------- Twitter/X API --------------------
# Get credentials from: https://developer.twitter.com/en/portal/dashboard
# Requires Twitter API v2 access (Essential or higher)
TWITTER_BEARER_TOKEN=your_bearer_token_here
TWITTER_API_KEY=your_api_key_here
TWITTER_API_SECRET=your_api_secret_here
TWITTER_ACCESS_TOKEN=your_access_token_here
TWITTER_ACCESS_TOKEN_SECRET=your_access_token_secret_here

# Search queries (comma-separated)
TWITTER_SEARCH_QUERIES=Model Context Protocol,#MCP,@modelcontextprotocol,MCP server,MCP tool,modelcontextprotocol.io

# Max results per query (10-100)
TWITTER_MAX_RESULTS_PER_QUERY=100

# Minimum likes to store tweets
TWITTER_MIN_LIKES_THRESHOLD=5

# -------------------- YouTube API --------------------
# Get API key from: https://console.cloud.google.com/apis/credentials
# Enable YouTube Data API v3 for your project
YOUTUBE_API_KEY=your_api_key_here

# Search queries (comma-separated)
YOUTUBE_SEARCH_QUERIES=Model Context Protocol,MCP tutorial,MCP server,MCP tool,modelcontextprotocol,Claude MCP

# Max results per query
YOUTUBE_MAX_RESULTS_PER_QUERY=50

# Minimum views to store videos
YOUTUBE_MIN_VIEW_COUNT=100

# Order results by (relevance, date, viewCount, rating)
YOUTUBE_ORDER_BY=relevance

# ====================================================================
# FASTAPI CONFIGURATION
# ====================================================================
# API server settings
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4
API_RELOAD=false

# Secret key for JWT token signing (generate with: openssl rand -hex 32)
SECRET_KEY=your-secret-key-change-this-in-production

# CORS Configuration
CORS_ENABLED=true
# CORS allowed origins (list format in Python, use * for all origins)
# In production, specify exact origins
CORS_ORIGINS=["http://localhost:3000","http://localhost:8000","https://mcps.local"]
CORS_ALLOW_CREDENTIALS=true

# Security Headers
SECURITY_HEADERS_ENABLED=true
HSTS_ENABLED=true

# Compression
COMPRESSION_ENABLED=true
COMPRESSION_MINIMUM_SIZE=500
COMPRESSION_LEVEL=6

# ====================================================================
# NEXT.JS CONFIGURATION
# ====================================================================
NEXT_PUBLIC_API_URL=http://localhost:8000/api
NEXT_PUBLIC_API_TIMEOUT=30000

# ====================================================================
# LOGGING CONFIGURATION
# ====================================================================
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log format: json or text
LOG_FORMAT=text

# Log output file (leave empty to disable file logging)
LOG_FILE=logs/mcps.log

# Log rotation size (in MB)
LOG_ROTATION_SIZE=100

# Number of backup log files to keep
LOG_RETENTION=10

# ====================================================================
# API RATE LIMITING CONFIGURATION
# ====================================================================
# Enable API rate limiting
RATE_LIMIT_ENABLED=true
# Default rate limit (requests per minute)
RATE_LIMIT_REQUESTS_PER_MINUTE=60
# Redis URL for rate limit storage (uses REDIS_URL if not set)
RATE_LIMIT_STORAGE_URL=

# ====================================================================
# HARVESTER RATE LIMITING CONFIGURATION
# ====================================================================
# Maximum requests per second for data harvesting
HARVEST_RATE_LIMIT=10

# Maximum concurrent workers for parallel processing
MAX_WORKERS=4

# Request timeout (in seconds)
REQUEST_TIMEOUT=30

# ====================================================================
# DATA EXPORT CONFIGURATION
# ====================================================================
# Default export directory
EXPORT_DIR=data/exports

# Supported formats: parquet, jsonl, json, csv
DEFAULT_EXPORT_FORMAT=parquet

# ====================================================================
# SECURITY CONFIGURATION
# ====================================================================
# Enable security scanning
SECURITY_SCAN_ENABLED=true

# Maximum file size for analysis (in MB)
MAX_FILE_SIZE=50

# ====================================================================
# OPTIONAL: AWS CONFIGURATION (for cloud features)
# ====================================================================
# AWS_REGION=us-east-1
# AWS_ACCESS_KEY_ID=your_access_key
# AWS_SECRET_ACCESS_KEY=your_secret_key
# S3_BUCKET=mcps-data

# ====================================================================
# METRICS & MONITORING CONFIGURATION
# ====================================================================
# Enable Prometheus metrics collection
METRICS_ENABLED=true
METRICS_PORT=9090

# ====================================================================
# SENTRY CONFIGURATION (for error tracking)
# ====================================================================
# Enable Sentry error tracking
SENTRY_ENABLED=false
# Get DSN from: https://sentry.io/settings/projects/
SENTRY_DSN=
# Environment name for Sentry (defaults to ENVIRONMENT)
SENTRY_ENVIRONMENT=
# Sample rate for transaction traces (0.0-1.0)
SENTRY_TRACES_SAMPLE_RATE=0.1
# Sample rate for profiling (0.0-1.0)
SENTRY_PROFILES_SAMPLE_RATE=0.1

# ====================================================================
# FEATURE FLAGS
# ====================================================================
# Enable social media features
FEATURE_SOCIAL_MEDIA=true
# Enable semantic embeddings (requires OpenAI API key)
FEATURE_EMBEDDINGS=false
# Enable background task scheduler
FEATURE_BACKGROUND_TASKS=true

# ====================================================================
# TESTING CONFIGURATION
# ====================================================================
# Enable test mode (disables external API calls)
TEST_MODE=false
